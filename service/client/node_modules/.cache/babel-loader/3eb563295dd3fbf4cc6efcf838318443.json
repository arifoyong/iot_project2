{"ast":null,"code":"import _slicedToArray from\"D:\\\\MyLab\\\\iot_project\\\\service\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Table from'react-bootstrap/Table';import Container from'react-bootstrap/Container';import Button from'react-bootstrap/Button';import MyModal from'./MyModal';var URI='/api/device';function Setting(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),targetData=_useState4[0],setTargetData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(e){setShow(true);setTargetData(e.target.id);};var updateData=function updateData(){fetch(URI).then(function(res){return res.json();}).then(function(json){setData(json);});};useEffect(function(){updateData();},[]);var renderRow=function renderRow(item,index){return React.createElement(\"tr\",{key:index},React.createElement(\"th\",{scope:\"row\"},item.id),React.createElement(\"td\",null,item.location),React.createElement(\"td\",null,item.alertActive?\"True\":\"False\"),React.createElement(\"td\",null,item.temp_lcl),React.createElement(\"td\",null,item.temp_ucl),React.createElement(\"td\",null,item.humi_lcl),React.createElement(\"td\",null,item.humi_ucl),React.createElement(\"td\",null,item.batt_lcl),React.createElement(\"td\",null,item.batt_ucl),React.createElement(\"td\",null,React.createElement(Button,{id:item.id,variant:\"primary\",onClick:handleShow},\"Edit\")));};return React.createElement(Container,{className:\"table-container\",fluid:\"true\"},React.createElement(Table,{responsive:\"md\",hover:true},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"ID\"),React.createElement(\"th\",null,\"Location\"),React.createElement(\"th\",null,\"Alert Active\"),React.createElement(\"th\",null,\"Temp LCL\"),React.createElement(\"th\",null,\"Temp UCL\"),React.createElement(\"th\",null,\"Humi LCL\"),React.createElement(\"th\",null,\"Humi UCL\"),React.createElement(\"th\",null,\"Batt LCL\"),React.createElement(\"th\",null,\"Batt UCL\"),React.createElement(\"th\",null))),React.createElement(\"tbody\",null,data.map(function(item,i){return renderRow(item,i);}))),React.createElement(MyModal,{show:show,handleClose:handleClose,updateData:updateData,idNo:targetData}));}export default Setting;","map":{"version":3,"sources":["D:/MyLab/iot_project/service/client/src/components/Setting.js"],"names":["React","useState","useEffect","Table","Container","Button","MyModal","URI","Setting","data","setData","targetData","setTargetData","show","setShow","handleClose","handleShow","e","target","id","updateData","fetch","then","res","json","renderRow","item","index","location","alertActive","temp_lcl","temp_ucl","humi_lcl","humi_ucl","batt_lcl","batt_ucl","map","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Table from 'react-bootstrap/Table'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Button from 'react-bootstrap/Button'\r\nimport MyModal from './MyModal'\r\n\r\nconst URI = '/api/device'\r\n\r\nfunction Setting() {\r\n  const [data, setData] = useState([])\r\n  const [targetData, setTargetData] = useState(1)\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = (e) => {\r\n    setShow(true);\r\n    setTargetData(e.target.id)\r\n  }\r\n\r\n  const updateData = () => {\r\n    fetch(URI).then(res => res.json())\r\n      .then(json => {\r\n        setData(json)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateData()\r\n  }, [])\r\n\r\n  const renderRow = (item, index) => {\r\n    return (\r\n      <tr key={index}>\r\n        <th scope=\"row\">{item.id}</th>\r\n        <td>{item.location}</td>\r\n        <td>{item.alertActive ? \"True\" : \"False\"}</td>\r\n        <td>{item.temp_lcl}</td>\r\n        <td>{item.temp_ucl}</td>\r\n        <td>{item.humi_lcl}</td>\r\n        <td>{item.humi_ucl}</td>\r\n        <td>{item.batt_lcl}</td>\r\n        <td>{item.batt_ucl}</td>\r\n        <td><Button id={item.id} variant=\"primary\" onClick={handleShow}>Edit</Button></td>\r\n      </tr >\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container className=\"table-container\" fluid=\"true\">\r\n      <Table responsive=\"md\" hover>\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Location</th>\r\n            <th>Alert Active</th>\r\n            <th>Temp LCL</th>\r\n            <th>Temp UCL</th>\r\n            <th>Humi LCL</th>\r\n            <th>Humi UCL</th>\r\n            <th>Batt LCL</th>\r\n            <th>Batt UCL</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.map((item, i) => renderRow(item, i))}\r\n        </tbody>\r\n      </Table>\r\n      <MyModal show={show} handleClose={handleClose} updateData={updateData} idNo={targetData} />\r\n    </Container>\r\n\r\n  )\r\n}\r\n\r\nexport default Setting\r\n"]},"metadata":{},"sourceType":"module"}