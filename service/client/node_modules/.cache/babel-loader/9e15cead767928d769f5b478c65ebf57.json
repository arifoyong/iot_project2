{"ast":null,"code":"import _slicedToArray from \"/usr/src/app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/usr/src/app/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/usr/src/app/client/src/components/Graph.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport Line from './Line';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nconst baseSet = {\n  label: \"\",\n  borderColor: 'red',\n  data: [],\n  fill: false,\n  borderDash: [10, 5],\n  pointRadius: 0,\n  borderWidth: 1\n};\n\nconst makeDataSet = (label, color, data, borderDash, pointRadius, borderWidth) => {\n  return _objectSpread({}, baseSet, {\n    label: label,\n    borderColor: color,\n    data: data,\n    borderDash: borderDash,\n    pointRadius: pointRadius,\n    borderWidth: borderWidth\n  });\n};\n\nfunction Graph() {\n  const _useParams = useParams(),\n        id = _useParams.id;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const tempData = [makeDataSet(\"temp\", \"blue\", data.map(d => ({\n    t: d.recordDate,\n    y: d.temp\n  })), [], 3, 2), makeDataSet(\"temp_ucl\", \"purple\", data.map(d => ({\n    t: d.recordDate,\n    y: d.Device.temp_ucl\n  })), [10, 5], 0, 1), makeDataSet(\"temp_lcl\", \"green\", data.map(d => ({\n    t: d.recordDate,\n    y: d.Device.temp_lcl\n  })), [10, 5], 0, 1)];\n  const humiData = [makeDataSet(\"humi\", \"blue\", data.map(d => ({\n    t: d.recordDate,\n    y: d.humi\n  })), [], 3, 2), makeDataSet(\"humi_ucl\", \"purple\", data.map(d => ({\n    t: d.recordDate,\n    y: d.Device.humi_ucl\n  })), [10, 5], 0, 1), makeDataSet(\"humi_lcl\", \"green\", data.map(d => ({\n    t: d.recordDate,\n    y: d.Device.humi_lcl\n  })), [10, 5], 0, 1)];\n  useEffect(() => {\n    let URI = \"/api/record/\".concat(id, \"/24\");\n    fetch(URI).then(res => res.json()).then(json => {\n      setData(json);\n    });\n  }, [id]);\n  return React.createElement(Container, {\n    fluid: \"false\",\n    className: \"graph-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"outline-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"back\")), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 12,\n    lg: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Line, {\n    title: \"Temperature (ID: \".concat(id, \")\"),\n    yLabel: \"Temperature (deg C)\",\n    yMin: 10,\n    yMax: 40,\n    tempData: tempData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(Col, {\n    md: 12,\n    lg: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Line, {\n    title: \"Humidity (ID: \".concat(id, \")\"),\n    yLabel: \"Humidity (%)\",\n    yMin: 40,\n    yMax: 100,\n    tempData: humiData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }))));\n}\n\nexport default Graph;","map":{"version":3,"sources":["/usr/src/app/client/src/components/Graph.js"],"names":["React","useState","useEffect","useParams","Link","Line","Container","Row","Col","Button","baseSet","label","borderColor","data","fill","borderDash","pointRadius","borderWidth","makeDataSet","color","Graph","id","setData","tempData","map","d","t","recordDate","y","temp","Device","temp_ucl","temp_lcl","humiData","humi","humi_ucl","humi_lcl","URI","fetch","then","res","json"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport Line from './Line'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst baseSet = {\r\n  label: \"\",\r\n  borderColor: 'red',\r\n  data: [],\r\n  fill: false,\r\n  borderDash: [10, 5],\r\n  pointRadius: 0,\r\n  borderWidth: 1\r\n}\r\n\r\nconst makeDataSet = (label, color, data, borderDash, pointRadius, borderWidth) => {\r\n  return { ...baseSet, label: label, borderColor: color, data: data, borderDash: borderDash, pointRadius: pointRadius, borderWidth: borderWidth }\r\n}\r\n\r\n\r\nfunction Graph() {\r\n  const { id } = useParams()\r\n  const [data, setData] = useState([])\r\n\r\n  const tempData = [\r\n    makeDataSet(\"temp\", \"blue\", data.map(d => ({ t: d.recordDate, y: d.temp })), [], 3, 2),\r\n    makeDataSet(\"temp_ucl\", \"purple\", data.map(d => ({ t: d.recordDate, y: d.Device.temp_ucl })), [10, 5], 0, 1),\r\n    makeDataSet(\"temp_lcl\", \"green\", data.map(d => ({ t: d.recordDate, y: d.Device.temp_lcl })), [10, 5], 0, 1),\r\n  ]\r\n\r\n  const humiData = [\r\n    makeDataSet(\"humi\", \"blue\", data.map(d => ({ t: d.recordDate, y: d.humi })), [], 3, 2),\r\n    makeDataSet(\"humi_ucl\", \"purple\", data.map(d => ({ t: d.recordDate, y: d.Device.humi_ucl })), [10, 5], 0, 1),\r\n    makeDataSet(\"humi_lcl\", \"green\", data.map(d => ({ t: d.recordDate, y: d.Device.humi_lcl })), [10, 5], 0, 1),\r\n  ]\r\n\r\n  useEffect(() => {\r\n    let URI = `/api/record/${id}/24`\r\n    fetch(URI).then(res => res.json())\r\n      .then(json => {\r\n        setData(json)\r\n      })\r\n  }, [id])\r\n\r\n\r\n  return (\r\n    <Container fluid=\"false\" className=\"graph-container\">\r\n      <Button variant=\"outline-primary\">\r\n        <Link to=\"/\">back</Link>\r\n      </Button>\r\n\r\n      <Row >\r\n        <Col md={12} lg={6}>\r\n          <Line title={`Temperature (ID: ${id})`} yLabel=\"Temperature (deg C)\" yMin={10} yMax={40} tempData={tempData} />\r\n        </Col>\r\n\r\n        <Col md={12} lg={6}>\r\n          <Line title={`Humidity (ID: ${id})`} yLabel=\"Humidity (%)\" yMin={40} yMax={100} tempData={humiData} />\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n\r\n  )\r\n}\r\n\r\nexport default Graph"]},"metadata":{},"sourceType":"module"}