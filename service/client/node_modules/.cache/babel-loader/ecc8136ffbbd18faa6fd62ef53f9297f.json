{"ast":null,"code":"import _slicedToArray from\"D:\\\\MyLab\\\\iot_project\\\\service\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _defineProperty from\"D:\\\\MyLab\\\\iot_project\\\\service\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import Line from'./Line';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';var baseSet={label:\"\",borderColor:'red',data:[],fill:false,borderDash:[10,5],pointRadius:0,borderWidth:1};var makeDataSet=function makeDataSet(label,color,data,borderDash,pointRadius,borderWidth){return _objectSpread({},baseSet,{label:label,borderColor:color,data:data,borderDash:borderDash,pointRadius:pointRadius,borderWidth:borderWidth});};function Graph(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var tempData=[makeDataSet(\"temp\",\"blue\",data.map(function(d){return{t:d.recordDate,y:d.temp};}),[],3,2),makeDataSet(\"temp_ucl\",\"purple\",data.map(function(d){return{t:d.recordDate,y:d.Device.temp_ucl};}),[10,5],0,1),makeDataSet(\"temp_lcl\",\"green\",data.map(function(d){return{t:d.recordDate,y:d.Device.temp_lcl};}),[10,5],0,1)];var humiData=[makeDataSet(\"humi\",\"blue\",data.map(function(d){return{t:d.recordDate,y:d.humi};}),[],3,2),makeDataSet(\"humi_ucl\",\"purple\",data.map(function(d){return{t:d.recordDate,y:d.Device.humi_ucl};}),[10,5],0,1),makeDataSet(\"humi_lcl\",\"green\",data.map(function(d){return{t:d.recordDate,y:d.Device.humi_lcl};}),[10,5],0,1)];useEffect(function(){var URI=\"/api/record/\".concat(id,\"/24\");fetch(URI).then(function(res){return res.json();}).then(function(json){setData(json);});},[id]);return React.createElement(Container,{fluid:\"false\",className:\"graph-container\"},React.createElement(Button,{variant:\"outline-primary\"},React.createElement(Link,{to:\"/\"},\"back\")),React.createElement(Row,null,React.createElement(Col,{md:12,lg:6},React.createElement(Line,{title:\"Temperature (ID: \".concat(id,\")\"),yLabel:\"Temperature (deg C)\",yMin:10,yMax:40,tempData:tempData})),React.createElement(Col,{md:12,lg:6},React.createElement(Line,{title:\"Humidity (ID: \".concat(id,\")\"),yLabel:\"Humidity (%)\",yMin:40,yMax:100,tempData:humiData}))));}export default Graph;","map":{"version":3,"sources":["D:/MyLab/iot_project/service/client/src/components/Graph.js"],"names":["React","useState","useEffect","useParams","Link","Line","Container","Row","Col","Button","baseSet","label","borderColor","data","fill","borderDash","pointRadius","borderWidth","makeDataSet","color","Graph","id","setData","tempData","map","d","t","recordDate","y","temp","Device","temp_ucl","temp_lcl","humiData","humi","humi_ucl","humi_lcl","URI","fetch","then","res","json"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport Line from './Line'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst baseSet = {\r\n  label: \"\",\r\n  borderColor: 'red',\r\n  data: [],\r\n  fill: false,\r\n  borderDash: [10, 5],\r\n  pointRadius: 0,\r\n  borderWidth: 1\r\n}\r\n\r\nconst makeDataSet = (label, color, data, borderDash, pointRadius, borderWidth) => {\r\n  return { ...baseSet, label: label, borderColor: color, data: data, borderDash: borderDash, pointRadius: pointRadius, borderWidth: borderWidth }\r\n}\r\n\r\n\r\nfunction Graph() {\r\n  const { id } = useParams()\r\n  const [data, setData] = useState([])\r\n\r\n  const tempData = [\r\n    makeDataSet(\"temp\", \"blue\", data.map(d => ({ t: d.recordDate, y: d.temp })), [], 3, 2),\r\n    makeDataSet(\"temp_ucl\", \"purple\", data.map(d => ({ t: d.recordDate, y: d.Device.temp_ucl })), [10, 5], 0, 1),\r\n    makeDataSet(\"temp_lcl\", \"green\", data.map(d => ({ t: d.recordDate, y: d.Device.temp_lcl })), [10, 5], 0, 1),\r\n  ]\r\n\r\n  const humiData = [\r\n    makeDataSet(\"humi\", \"blue\", data.map(d => ({ t: d.recordDate, y: d.humi })), [], 3, 2),\r\n    makeDataSet(\"humi_ucl\", \"purple\", data.map(d => ({ t: d.recordDate, y: d.Device.humi_ucl })), [10, 5], 0, 1),\r\n    makeDataSet(\"humi_lcl\", \"green\", data.map(d => ({ t: d.recordDate, y: d.Device.humi_lcl })), [10, 5], 0, 1),\r\n  ]\r\n\r\n  useEffect(() => {\r\n    let URI = `/api/record/${id}/24`\r\n    fetch(URI).then(res => res.json())\r\n      .then(json => {\r\n        setData(json)\r\n      })\r\n  }, [id])\r\n\r\n\r\n  return (\r\n    <Container fluid=\"false\" className=\"graph-container\">\r\n      <Button variant=\"outline-primary\">\r\n        <Link to=\"/\">back</Link>\r\n      </Button>\r\n\r\n      <Row >\r\n        <Col md={12} lg={6}>\r\n          <Line title={`Temperature (ID: ${id})`} yLabel=\"Temperature (deg C)\" yMin={10} yMax={40} tempData={tempData} />\r\n        </Col>\r\n\r\n        <Col md={12} lg={6}>\r\n          <Line title={`Humidity (ID: ${id})`} yLabel=\"Humidity (%)\" yMin={40} yMax={100} tempData={humiData} />\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n\r\n  )\r\n}\r\n\r\nexport default Graph"]},"metadata":{},"sourceType":"module"}